<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>AliCoCo：阿里电商概念图谱构建方案 | SuperGxw</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1 前言电商技术进入认知智能时代，在搜索推荐等电商核心业务场景上使用电商认知图谱，将给亿万用户带来更加智能的购物体验。本文就阿里搜索推荐事业部认知图谱团队2020年提出的电商认知图谱的构建方法（AliCoCo）做一个总结。">
<meta property="og:type" content="article">
<meta property="og:title" content="AliCoCo：阿里电商概念图谱构建方案">
<meta property="og:url" content="http://example.com/2023/02/08/AliCoCo/index.html">
<meta property="og:site_name" content="SuperGxw">
<meta property="og:description" content="1 前言电商技术进入认知智能时代，在搜索推荐等电商核心业务场景上使用电商认知图谱，将给亿万用户带来更加智能的购物体验。本文就阿里搜索推荐事业部认知图谱团队2020年提出的电商认知图谱的构建方法（AliCoCo）做一个总结。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_1.png">
<meta property="og:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_3.png">
<meta property="og:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_4.png">
<meta property="og:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_5.png">
<meta property="og:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_6.png">
<meta property="og:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_7.png">
<meta property="og:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_9.png">
<meta property="article:published_time" content="2023-02-08T10:33:12.000Z">
<meta property="article:modified_time" content="2023-02-18T07:40:52.198Z">
<meta property="article:author" content="Super_gxw">
<meta property="article:tag" content="AliCoCo">
<meta property="article:tag" content="知识图谱">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/02/08/AliCoCo/Users/HP/Desktop/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E7%9B%B8%E5%85%B3/AliCoCo/AliCoCo_1.png">
  
    <link rel="alternative" href="/atom.xml" title="SuperGxw" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
      <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("SwXp0E9xAWOwi5aqLhIGPtzn-gzGzoHsz", "uUo3Rqrkt0dpjAy7UuhSBR5C");</script>

<script src="/js/Counter.js"></script>

  
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="/img/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">Super_gxw</a></h1>
		</hgroup>

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">文章</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/SuperGxw" title="github">github</a>
					        
								<a class="mail" target="_blank" href="mailto:xiaowgao@163.com" title="mail">mail</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
						</div>
						<!-- music -->
						
							<!-- <div style="position: absolute; bottom: 120px; left: auto; width: 85%;"> -->
							<div style="position: absolute; left: auto; width: 85%;">
								<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=220 height=86 src="//music.163.com/outchain/player?type=2&id=1354629987&auto=1&height=66"></iframe>
							</div>
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AliCoCo/" style="font-size: 10px;">AliCoCo</a> <a href="/tags/NLP/" style="font-size: 10px;">NLP</a> <a href="/tags/Transformer/" style="font-size: 10px;">Transformer</a> <a href="/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" style="font-size: 10px;">个人博客搭建</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 15px;">工具</a> <a href="/tags/%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D/" style="font-size: 10px;">工具介绍</a> <a href="/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90/" style="font-size: 20px;">技术分析</a> <a href="/tags/%E7%90%86%E8%AE%BA/" style="font-size: 15px;">理论</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/" style="font-size: 10px;">知识图谱</a> <a href="/tags/%E8%82%A1%E7%A5%A8/" style="font-size: 20px;">股票</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">在读研究生，研究领域为机器学习、数据挖掘以及自然语言处理。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/SuperGxw" title="github">github</a>
			        
						<a class="mail" target="_blank" href="mailto:xiaowgao@163.com" title="mail">mail</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-AliCoCo" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/02/08/AliCoCo/" class="article-date">
  	<time datetime="2023-02-08T10:33:12.000Z" itemprop="datePublished">2023-02-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      AliCoCo：阿里电商概念图谱构建方案
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AliCoCo/" rel="tag">AliCoCo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/" rel="tag">知识图谱</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/">论文精读</a>
	</div>


        
          
<div class="counter-tag counter">
    <span id="/2023/02/08/AliCoCo/" class="leancloud_visitors post-title-link"
          style="font-size: 12px" data-flag-title="AliCoCo：阿里电商概念图谱构建方案">
         &nbsp;
        view
    </span>
</div>

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h3><p>电商技术进入认知智能时代，在搜索推荐等电商核心业务场景上使用<strong>电商认知图谱，</strong>将给亿万用户带来更加智能的购物体验。本文就阿里<em>搜索推荐事业部认知图谱团队</em>2020年提出的电商认知图谱的构建方法（<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2003.13230.pdf">AliCoCo</a>）做一个总结。</p>
<span id="more"></span>
<h3 id="2-介绍"><a href="#2-介绍" class="headerlink" title="2 介绍"></a>2 介绍</h3><p>多年以来，搜索引擎都是基于关键字的搜索来引导用户快速找到需要的商品，适用于明确清楚具体商品的用户。而在商品推荐中，重复推荐、买过了又推荐、推荐缺少新意等问题也是经常为人诟病。究其根源，是缺少对于用户需求的刻画所导致的。最大的因素就是存在语义鸿沟问题，即用户的思维需求和在电子商务平台中这些物品的组织方式之间存在着巨大的语义差距。举例来说：</p>
<p>电商平台：基于CPV（Category-Property-Value），分类组成了层次结构，属性值是叶子，也就是最后考虑的东西。比如说，“红色卫衣”，肯定是先找“衣服”，再找“卫衣”，最后找“红色的”，不可能先从红色这个属性开始找吧。这种方式很自然，很好理解。但是有问题：</p>
<ul>
<li>搜索。只适用于明确知道要买什么商品的用户。当用户想知道某个场景下需要的物品时，就不适用了。比如说，“户外烧烤”这个例子，它不是明确的物品，而是一个场景，这时候搜索引擎就不知道到底该显示什么给用户了。如果用户百度搜索“户外烧烤需要什么”，就会出现很多答案，“烧烤架”、“烤肉”、“煤炭”等等。这时候，从淘宝一个个搜索就没问题了。显然这样就不是很智能了，平台应该根据“户外烧烤”这个场景，把一系列相关物品展示出来，就很方便了，也更加的智能化。</li>
<li>推荐。现在的电商推荐都是基于历史的，显然，最大的一个缺点就是推荐的物品不是用户需求驱动的。举个例子，我买了一本《机器学习》的书，接下来平台就会给我推荐一系列关于《机器学习》的书籍。这对于用户的体验是很差的，用户已经购买过不需要了，还推荐相同的。</li>
</ul>
<blockquote>
<p>目标：将用户需求与电商平台的物品分类建立联系，弥补语义差异。</p>
</blockquote>
<h3 id="3-AliCoCo总览"><a href="#3-AliCoCo总览" class="headerlink" title="3 AliCoCo总览"></a>3 AliCoCo总览</h3><p>如图所示，AliCoCo是一个电商概念图谱，主要由四部分组成：</p>
<ul>
<li>电商概念层（E-commerce Concepts）：这是AliCoCo最大的创新点，将用户需求显示地用短语表示为图的节点。例如“户外烧烤（Outdoor Barbecue）”、“儿童保暖（Keep Warm for Kids）”等，称之为“电商概念”，表示用户需求短语，特定购物场景。</li>
<li>原子概念层（Primitive Concepts）：为了更好地理解电商概念，将短语拆分细化到词粒度以更好的描述用户需求，这样的词粒度称为“原子概念”。对于电商概念“户外烧烤”而言，可以表示为“动作 : 烧烤 &amp; 地点 : 户外 &amp; 天气 : 晴”，这里的“烧烤”、“户外”以及“晴”都是原子概念。</li>
<li>分类体系（Taxonomy）：分类体系是为了更好地管理上述的原子概念。为了服务于电商领域的概念理解，在这一层中定义了诸如“时间”、“地点”、“动作”、“功能”、“品类”、“IP”等一级分类，并在每个一级分类下细分出子类别，形成一颗树形结构。在每个分类中，包含了分类的实例（instance），即原子概念，如上述的“烧烤”、“户外”和“晴”就分属于“动作 - 消耗性动作”、“地点 - 公共空间”和“时间 - 天气”。同时，不同分类之间有不同的关系（relation），如“品类 - 服饰 - 服装 - 裤子”和“时间 - 季节”之间定义了一个“适用于（季节）”的关系。因此，相应的会有一条三元组实例：&lt;棉裤，适用于，冬季&gt;。</li>
<li>商品层（Items）：阿里巴巴平台有数十亿的商品和内容，将会和电商概念、原子概念层进行关联。如和“户外烧烤”关联的商品可能包括烧烤架、炭火、食材等。有些商品可以关联到“户外烧烤”这个电商概念，但不一定可以和相应的原子概念“户外”直接关联。对于商品来说，电商概念像是这个商品会被用于的某个场景，而原子概念更像是细粒度的属性，用于刻画商品的特性。</li>
</ul>
<p><img src="/2023/02/08/AliCoCo/Users\HP\Desktop\知识图谱相关\AliCoCo\AliCoCo_1.png" alt></p>
<h3 id="4-原子概念"><a href="#4-原子概念" class="headerlink" title="4 原子概念"></a>4 原子概念</h3><p>具有分类法的原子概念有望准确、全面地描述电子商务中的每一项商品和用户需求。它们是了解客户高层次购物需求的基础。原子概念也是被组织成层次结构。在这一层，主要有两个问题：</p>
<ul>
<li>原子概念词汇的挖掘</li>
<li>原子概念之间的上下位关系构建</li>
</ul>
<h4 id="4-1-词汇挖掘"><a href="#4-1-词汇挖掘" class="headerlink" title="4.1 词汇挖掘"></a>4.1 词汇挖掘</h4><p>在有了分类体系之后，接下来要做的就是创造原子概念。原子概念可以认为是词汇。一般有两种方式快速扩充分类的实例（词汇）。</p>
<ul>
<li><p>融合多种来源的数据化结构，这种方法采用的技术通常是<strong>文本对齐（Ontology Matching）</strong>。在实践中，主要采用基于规则的匹配算法，并结合人工的努力来对每个数据源的分类进行人工校对来进行词汇的融合。（规则+人工映射）</p>
</li>
<li><p>通过在大规模的语料库（如搜索查询、产品名称、用户点评、购物指南等）进行自动挖掘来补充分类下的词汇，挖掘特定类的新概念。这个过程，可以表示为序列标记任务，其中输入是单词序列，输出是预定义的标签序列。采用基于BiLSTM+CRF的模型来挖掘发现分类下的新词。由于叶子分类的数量过于庞大，这里使用一级分类作为label，先对词汇进行粗粒度的挖掘。<img src="/2023/02/08/AliCoCo/Users\HP\Desktop\知识图谱相关\AliCoCo\AliCoCo_3.png" alt></p>
<p>上图为 BiLSTM+CRF 模型的简单示意。一个BiLSTM层和一个CRF层。</p>
<ul>
<li>BiLSTM（双向LSTM层）：使隐藏状态能够捕获单词的历史和未来上下文信息（单向的LSTM只能保存历史信息，双向的既考虑历史有考虑未来）。</li>
<li>CRF(条件随机域)考虑当前标签和相邻标签之间的相关性。</li>
</ul>
<p>在模型挖掘得到可能属于某个分类的新词之后，后续还会经由众包投放审核、外包质检等人工把关环节（重大工作量），最终才会入库成为真正的原子概念。不同的原子概念可能拥有相同的名字，但分属不同的类别，代表了不同的语义，每个原子概念有一个 ID，这也是 AliCoCo 未来可以用概念消歧的基础。</p>
<blockquote>
<p>简单说就是输入一个有关商品的评论，分词，通过这个网络模型，就每个分词而言，得到一个向量，向量的每个维度表示是否属于上一节分类，比如0表示是这个门类，1表示不是这个门类。</p>
</blockquote>
</li>
</ul>
<h4 id="4-2-上下位关系构建"><a href="#4-2-上下位关系构建" class="headerlink" title="4.2 上下位关系构建"></a>4.2 上下位关系构建</h4><p>在某个一级分类下的词汇挖掘到一定量后，需要继续将所有词汇分到不同层次的类别中去，这个过程可以抽象成为一个上下位关系发现（Hypernym Discovery）的过程：给定一个下位词，在词表中找到其可能的上位词。我们采用基于 pattern 的无监督方法和基于 projection learning 的监督方法两种方式结合来完成上下位关系的构建。</p>
<blockquote>
<p>在一级原子概念的基础上进行更细程度的划分，就是判断任意两个原子概念的超词关系。比如，酸、甜都是属于味道这个门类，但是他们之间没有超词关系，而香甜、甘甜和甜之间有超词关系。</p>
</blockquote>
<h5 id="基于模式（Pattern-Based）"><a href="#基于模式（Pattern-Based）" class="headerlink" title="基于模式（Pattern Based）"></a>基于模式（Pattern Based）</h5><p>基于模式的上位词发现方法，是最直观且准确率最高的方法，定义了上位词的特定的文本模式，如“Y，一种X”来挖掘语料库中的下位词-上位词对。比如说，“这件衣服样式很时髦、高端、潮流”这句话中，上位词“样式”、下位词“时髦”等同时出现了。</p>
<p>但是，这种方法的召回率较低，因为它假定下位词-上位词对同时出现在其中一种模式中，但是当与语料库中的模式相匹配时，这通常是不正确的。（就是说，在实际中，这种方法得到的上位词-下位词对很少，大部分的上位词-下位词对没有得到，这是因为上位词-下位词小概率同时出现在指定的模式中，大部分时间都没有同时出现）。还是上面那个例子，更口语化的描述是“这件衣服很时髦”，上位词、下位词没有同时出现。需要使用额外的一些特殊的汉语语法特征直接发现上位词。</p>
<h5 id="投影学习（Projection-Learning）"><a href="#投影学习（Projection-Learning）" class="headerlink" title="投影学习（Projection Learning）"></a>投影学习（Projection Learning）</h5><p>投影学习的总体思想是：学习一个函数，出入是一个下位词p的Embedding和一个上位词h的Embedding，输出的是p和h之间存在关系的可能性。对于一个给定的下义词p，为了发现上位词，这个决定函数适用于所有候选上位词，并选择最有可能的。</p>
<ul>
<li>给定一对候选p和h，首先通过电子商务语料库（通过Word2vec训练获得的）获得它们的词嵌入表。</li>
<li>用投影张量T来衡量它们之间存在超词关系的可能性。</li>
</ul>
<h5 id="主动学习（Activate-Learning）"><a href="#主动学习（Activate-Learning）" class="headerlink" title="主动学习（Activate Learning）"></a>主动学习（Activate Learning）</h5><p>模型产出候选和众外包审核是一个同时进行的过程，人工审核的数据可以不断反哺强化模型。因此，我们在迭代的过程中，考虑用主动学习来进一步提升效率，降低人工审核的成本。我们采用了一种 Uncertainty and High Confidence (UCS) 的采样策略，除了考虑模型难以判断正负的样例之外（预测值接近 0.5），我们还额外添加了一定比例的高置信度判正的样例一起送标，这是因为在上下位关系的判别中，很容易被诸如同义或者相关关系所干扰，尤其在前期样本数量少且质量不一，以及负采样不均衡的情况下，模型对于区分相关关系和上下位的表现不是太好。而通过人工标注纠正这样的判断错误，可以及时惩罚这一类的误判。具体过程如下：</p>
<ul>
<li>输入：未标记数据集D，测试数据集T，评分函数$f(\cdot,\cdot)$，人工标签H，人工标记的样本数量K。</li>
<li>先从数据集D中随机选择K个样本组成$D_0$，领域专家进行标记，得到初始的含有标记的数据集$L_0$，这些样本就可以从D中移除了。</li>
<li>用$L_0$来训练投影学习模型$f$，然后在测试集T上进行测试。</li>
<li>使用训练好的模型$\hat{f}$预测未标记的数据集D，得到评分$S_0$。</li>
<li>迭代地选择未标记的样本进行标记，并使用它们来增强模型。这里采用了不确定性和高可信度抽样（UCS），该策略从两个因素中选择未标记的样本：（1）基于经典的不确定性抽样（US），如果一个样本的预测得分接近于0.5，意味着当前的模型很难判断该样本的标签。如果专家对该样本进行标记，则该模型可以通过学习该样本来增强其能力，用$|S_i-0.5|/0.5$来计算这个概率。（2）高可信度，当遇到相同、类似关系时，模型很可能将一些预测困难的负样本预测为高置信度的正样本。选择了得分较高的样本，利用α来控制不同的抽样权重，得到新的人类标记数据集，用以训练更好的模型。</li>
<li>当$fs$不再提高时，停止迭代。</li>
</ul>
<h3 id="5-电商概念层"><a href="#5-电商概念层" class="headerlink" title="5 电商概念层"></a>5 电商概念层</h3><p>在电商概念层，每一个节点代表了一种购物需求，这种购物需求可以用至少一个原子概念来描述。</p>
<h4 id="5-1-电商概念5个标准："><a href="#5-1-电商概念5个标准：" class="headerlink" title="5.1 电商概念5个标准："></a>5.1 电商概念5个标准：</h4><ul>
<li>电商意义：代表特定的购物需求。像“蓝天”或是“母鸡下蛋”这样的短语就不是电商概念。</li>
<li>连贯性：应该是一个连贯的短语，很通顺，没有倒装之类的语法。反例如“圣诞节爷爷礼物”，而连贯的应该是“爷爷的圣诞节礼物”。</li>
<li>合理性：应该是一个合理的短语，符合人类常识。反例如“性感婴儿裙”或“欧洲韩国窗帘”。因为我们不会用“性感”来描述婴儿裙。而窗帘也不能同时有欧洲风格和韩国风格。</li>
<li>清晰：即一个电商概念必须有明确的受众，反例如“儿童宝宝辅食”等就不是电商概念，因为儿童的辅食和宝宝的辅食差别较大，会造成用户的疑惑。</li>
<li>正确性：即短语是正确的，不存在错别字。反例如“印渡神油”等。</li>
</ul>
<h4 id="5-2-电商概念生成"><a href="#5-2-电商概念生成" class="headerlink" title="5.2 电商概念生成"></a>5.2 电商概念生成</h4><p>之前没有电商概念相关定义，很少有关于从文本中挖掘这类短语的工作。这里提出了一个两阶段的框架来生成电商概念：首先使用两种不同的方法来生成大量可能的额电商概念候选，然后提出一个二元分类模型来识别那些满足标准的概念。</p>
<h5 id="5-2-1-候选生成"><a href="#5-2-1-候选生成" class="headerlink" title="5.2.1 候选生成"></a>5.2.1 候选生成</h5><p>有两种不同的方法来生成候选概念。（1）从文本中挖掘，这里使用了 AutoPhrase 在大规模的语料库（包括电商生态内的 query log ，商品的标题、评论，还有很多达人商户写的购物攻略等）进行挖掘。（2）使用现有的原子概念组合生成新的候选对象。挖掘并人工审核了一些 pattern 来赋值生成。</p>
<p><img src="/2023/02/08/AliCoCo/Users\HP\Desktop\知识图谱相关\AliCoCo\AliCoCo_4.png" alt></p>
<h5 id="5-2-2-电商概念判别"><a href="#5-2-2-电商概念判别" class="headerlink" title="5.2.2 电商概念判别"></a>5.2.2 电商概念判别</h5><p>判断候选短语是否满足电商概念的要求，最大的挑战是前面提到的第三个标准，即合理性。而对于其它四个标准，字符级和单词级的语言模型以及一些启发式规则都能够满足目标。由于机器很难掌握常识，且电商概念判别任务中的候选短语又严重缺少上下文信息使得该问题更具有挑战性。</p>
<p>为了解决这个问题，作者提出了一种<strong>基于知识增强的深度分类模型</strong>。整体上看是一个 Wide&amp;Deep 结构。在 Deep 侧，利用字级别和词级别的 BiLSTM 来提取特征，同时对于词级别的输入，加入了一些词性特征如 POS tag 和 NER label 等。为了进行知识增强来辅助常识理解，作者将部分词链接到 <a href="[zh.wikipedia.org](https://zh.wikipedia.org/wiki/性感">Wikipedia</a>) 上，如“性感”就可以找到对应的页面。然后将页面上的 gloss（通常是一段简单的介绍）用 Doc2vec 的方式进行 encode 得到知识表达。在经过 Self-attention + Max-pooling 之后将两者融合。在 Wide 侧，主要计算了候选概念的统计特征，包括 BERT 模型产出的困惑度。最后，通过一个全连接层来获得最终衡量一个候选短语是否符合电商概念要求的分数。为了严格控制质量，通过从模型检查的每个输出批中随机抽取一小部分，并要求领域专家手动注释。只有当精度达到一定的阈值时，整批概念才会被添加到 AliCoCo 中。此外，在训练数据中添加标注的样本，迭代提高模型性能。</p>
<p><img src="/2023/02/08/AliCoCo/Users\HP\Desktop\知识图谱相关\AliCoCo\AliCoCo_5.png" alt></p>
<h5 id="5-2-3-理解"><a href="#5-2-3-理解" class="headerlink" title="5.2.3 理解"></a>5.2.3 理解</h5><p>将电子商务概念与原子概念建立连接，更好的理解电子商务概念，描述用户需求。顾前文提到的电商概念“户外烧烤”，需要预测“户外”是一个“地点”，“烧烤”是一个“动作”。但“烧烤”在体系中也有可能是一个“电影”，所以这里的难点在于如何进行消歧。把这个任务定义为一个短文本的 NER 任务，由于电商概念普遍只有 2-3 个词组成，缺少上下文也让这个任务具有挑战。</p>
<p><img src="/2023/02/08/AliCoCo/Users\HP\Desktop\知识图谱相关\AliCoCo\AliCoCo_6.png" alt></p>
<p>为了解决这个问题，作者设计了一种文本增强的方式，对短文本中待链接的词进行外部上下文的补充，用以为消歧带来额外的信息辅助。如图所示，左边部分是比较常规的特征抽取，右边是一个信息增强的模块。将目标词映射到高质量的外部文本中，通过 Doc2vec 将其周边的上下文信息 encode 成 embedding，最终最为额外的输入融合到最终的表达中。</p>
<p><strong>文本增强概念编码器</strong></p>
<p>为了利用表示层中的信息特性，使用了单词级、字符级和位置级特性。具体如下：</p>
<ul>
<li><p>随机初始化一个查找表，以获得每个字的嵌入表示。设$C$为汉字的词汇量，一个词语$w_i$可以表示为一个汉字向量序列:$\{c^{i}_{1},c^{i}_{2},\cdots,c^{i}_{t}\}$，其中其中$c^{i}_{j}$为第$j$个汉字的向量，$t$是词语的长度（这个词语有多少个汉字）。</p>
</li>
<li><p>采用CNN来提取每个词语$w_i$的<strong>字符级特征</strong>$c_i$。使用一个窗口大小为$k$的卷积层来包含每个汉字的相邻字的信息。然后应用最大池操作输出最终汉字表示。</p>
<script type="math/tex; mode=display">
c^{i}_{j}=CNN([c^{i}_{j-k/2}, \cdots, c^{i}_{j},\cdots,c^{i}_{j+k/2}])  \\
c_i = MaxPooling([c^{i}_{0},\cdots,c^{i}_{j}, \cdots])</script></li>
<li><p>为了捕获<strong>单词级特征</strong>，使用来自GloVe的预先训练的单词嵌入来将词语映射到实值向量$x_i$中来初始化词语特征，并在训练期间进行调整。此外，计算了词性标注特征$p_i$。连接三个嵌入项得到单词表示$w_i:w_i = [x_i; c_i; p_i]$。</p>
</li>
<li><p>将词语表示序列提供给BiLSTM层，以获得隐藏嵌入$\{h_1, h_2,\cdots,h_m\}$。为了增加文本信息，构建了一个文本嵌入矩阵$TM$，将每个词语映射回文本语料库中，提取周围的上下文并通过Doc2vec进行编码。所以，在$TM$中查找每个单词$w_i$来获得一个文本增强的嵌入$tm_i$。将$h_i$和$tm_i$连接起来，然后使用一个Self-attention层，通过考虑周围单词的增广文本嵌入来调整每个单词的表示以获得更好的特征表示：</p>
<script type="math/tex; mode=display">
h^{'}_{i}=AelfAtt([h_{i};tm_{i}])</script></li>
</ul>
<p><strong>模糊CRF层</strong></p>
<p><img src="/2023/02/08/AliCoCo/Users\HP\Desktop\知识图谱相关\AliCoCo\AliCoCo_7.png" alt></p>
<p>使用模糊CRF是为了更好地处理歧义问题，因为每个单词的有效类标签不唯一，且概念太短。比如：电子商务概念“乡村半身裙”中的“乡村”这一词与可以与原子概念“空间:乡村”连接，也可以与“风格:乡村”连接。因此，最终概率调整为:</p>
<script type="math/tex; mode=display">
L(y|X)=\frac{\sum_{\hat{y}\in Y_{possible}}e^{s(X,\hat{y})}}{\sum_{\hat{y}\in Y_{X}}e^{s(X,\hat{y})}}</script><p>其中$Y_{X}$表示序列$X$的所有可能的标签序列，$Y_{possible}$包含所有可能的标签序列。</p>
<h3 id="6-商品关联"><a href="#6-商品关联" class="headerlink" title="6 商品关联"></a>6 商品关联</h3><p>商品是电商图谱中最重要的节点。在构建完原子概念和电商概念层之后，最重要的是将电商平台上的所有商品进行关联。前面提到原子概念更像是属性，因而更应该关注商品与电商概念的关联，因为后者表达的是一个用户需求，常常有着较为复杂的语义。此外，电商概念与商品的关联不能直接从对应的原子概念到商品的关联组合得到，因为会出现“语义漂移”的问题。例如“户外烧烤”所需要的商品，往往和属性“户外”没有任何关系。因此可以将这个问题抽象为一个语义匹配（Semantic match） 的问题，因为现阶段暂时只用到<strong>商品侧标题的信息</strong>（实际上商品是一个多模态的结构，有着非常丰富的文本、图像甚至越来越多的商品开始有了短视频的介绍）。这个任务最大的挑战依旧在于电商<strong>概念长度过短</strong>以至于可以使用的信息有限，直接进行匹配，往往会遇到诸如某些不那么重要词对结果产生了巨大的影响等问题。</p>
<p><img src="/2023/02/08/AliCoCo/Users\HP\Desktop\知识图谱相关\AliCoCo\AliCoCo_9.png" alt></p>
<p>针对上述难点，作者在语义匹配模型上引入了一些必要的外部知识来提升性能，提出了一种<strong>具有知识感知的深度语义匹配模型</strong>。具体模型如图所示，除了常规的特征抽取，Attention 注意力机制模块等建模商品和电商概念之间的关联外，主要做了两个地方的增强：</p>
<ul>
<li>引入了电商概念对应的原子概念的特征表达，增加了类型等结构化信息。</li>
<li>引入外部 Wikipedia gloss，对部分词进行知识增强，以更好地建立与商品之间的关联。</li>
</ul>
<p>具体如下：</p>
<ul>
<li><p>输入的是一系列概念单词和来自候选商品标题的单词序列。将这两个序列的预先训练好的词嵌入与 POS 标记和 NER 标记嵌入连接起来得到输入的嵌入表示。采用窗口大小为k的CNN对概念和商品分别进行编码：</p>
<script type="math/tex; mode=display">
w^{'}_{i}=CNN([w_{i-k/2}, \cdots , w_{i}, \cdots, w_{i+k/2}])  \\
t^{'}_{i}=CNN([t_{i-k/2}, \cdots , t_{i}, \cdots, t_{i+k/2}]).</script></li>
<li><p>概念中的不同单词在与商品匹配时应该共享不同的权重，反之亦然。因此，在模型中应用了 Attention 机制。利用一个注意矩阵来同时建模双向交互作用。</p>
<script type="math/tex; mode=display">
att_{i,j}=v^{T}tanh(W_{1}w^{'}_{i}+W_{2}t^{'}_{j}), \\
\alpha_{wi}=\frac{exp(\sum_{j}att_{i,j})}{\sum_{i}exp(\sum_{j}att_{i,j})},  \\
\alpha_{tj}=\frac{exp(\sum_{i}att_{i,j})}{\sum_{j}exp(\sum_{i}att_{i,j})}.</script><p>最后得到概念嵌入$c$和商品嵌入$i$：    </p>
<script type="math/tex; mode=display">
c=\sum_{i}\alpha_{wi}w^{'}_{i}, \qquad i=\sum_{j}\alpha_{tj}t^{'}_{j}</script></li>
<li><p>引入更多的信息知识来帮助语义匹配，获得知识嵌入：</p>
<script type="math/tex; mode=display">
k_{i}=Doc2vec(Gloss(w_{i}))</script></li>
<li><p>此外，还得到了与当前电子商务概念相关联的第$j$个原始概念的类标签id嵌入$cls_{j}$。因此，在概念方面有三个序列：</p>
<script type="math/tex; mode=display">
\{kw_{i}\}=\{kw_{1},kw_{2},\cdots kw_{2*m+m^{'}}\} \\
=\{w_{1},w_{2},\cdots w_{m}, k_{1},k_{2},\cdots k_{m},cls_{1},cls_{2},\cdots cls_{m^{'}}\}</script><p>其中，$m^{‘}$是原子概念的数量。在商品方面直接使用的词嵌入序列$\{t_{i}\}=\{t_{1},t_{2},\cdots t_{l}\}$</p>
</li>
<li><p>采用Matching Pyramid的策略，第$k$层匹配矩阵的值定义如下：</p>
<script type="math/tex; mode=display">
match^{k}_{i,j}=kw^{T}_{i}W_{k}t_{j}</script><p>其中$i\in [1,2*m+m^{‘}],j \in [1,l]$。将每一层匹配矩阵输入到2层CNN和最大池化操作得到一个匹配的嵌入$ci^{k}$。$ci$的最终嵌入表示为：</p>
<script type="math/tex; mode=display">
ci=MLP([;ci^{k};])</script><p>最终概率评分的计算方法为：</p>
<script type="math/tex; mode=display">
score=MLP([c;i;ci])</script></li>
</ul>
<p>​                </p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2023/02/02/stockAnalysis5/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">K线分析：价格形态及其基本操作要领</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2023 Super_gxw
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>